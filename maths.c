#include <stdio.h>

int main() {
    float R1=10,R2=5,R3=10,R4=5,R5=10,V1=10,V2=5;
    float A[3][3]={{R1+R3,-R3,0},{-R3,R2+R3+R4,-R4},{0,-R4,R4+R5}};
    float b[3]={V1,V2,0},inv[3][3],I[3],d;

    d=A[0][0]*(A[1][1]*A[2][2]-A[1][2]*A[2][1])
     -A[0][1]*(A[1][0]*A[2][2]-A[1][2]*A[2][0])
     +A[0][2]*(A[1][0]*A[2][1]-A[1][1]*A[2][0]);

    if(d==0){printf("No unique solution");return 0;}

    inv[0][0]=(A[1][1]*A[2][2]-A[1][2]*A[2][1])/d;
    inv[0][1]=-(A[0][1]*A[2][2]-A[0][2]*A[2][1])/d;
    inv[0][2]=(A[0][1]*A[1][2]-A[0][2]*A[1][1])/d;
    inv[1][0]=-(A[1][0]*A[2][2]-A[1][2]*A[2][0])/d;
    inv[1][1]=(A[0][0]*A[2][2]-A[0][2]*A[2][0])/d;
    inv[1][2]=-(A[0][0]*A[1][2]-A[0][2]*A[1][0])/d;
    inv[2][0]=(A[1][0]*A[2][1]-A[1][1]*A[2][0])/d;
    inv[2][1]=-(A[0][0]*A[2][1]-A[0][1]*A[2][0])/d;
    inv[2][2]=(A[0][0]*A[1][1]-A[0][1]*A[1][0])/d;

    for(int i=0;i<3;i++){I[i]=0;for(int j=0;j<3;j++)I[i]+=inv[i][j]*b[j];}
    printf("I1=%.3fA\nI2=%.3fA\nI3=%.3fA\n",I[0],I[1],I[2]);
}
